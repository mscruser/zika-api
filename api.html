<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>API Page</title>
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map-content1 {
        height:400px;
        width:100%;
      }
      #map-content2 {
        height:400px;
        width:100%;
      }


    </style>


    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/my-styles.css" rel="stylesheet">

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script><!--geoCharts-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script> <!--geoCharts-->
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="row">
      <div class="col-xs-12" id="headline" style="font-family:'Oswald'; color:#50473e; font-size:4.5em"><p>Zika in the News</p></div>
  </div>

    <div class="row">
        <div class="col-xs-6 " id="us-button" style="text-align:right; font-family:Oswald"><button class="button">AT HOME</button></div>
        <div class="col-xs-6 " id="world-button"style="font-family:Oswald" ><button class="button">GLOBAL</button></div>
  </div>

  <div class="row">
      <div class="col-xs-12"><p id="map-text" style="color:#50473e; text-align:center;font-family:'Open Sans';font-size:15px;">According to the CDC, there are currently no "locally acquired" cases of Zika in the U.S., but there are still 388 travel-related Zika cases in cities throughout the United States.
          Medical data company Health Grove listed the U.S. cities most at risk for Zika, based on recent Dengue and Chikungunya cases, Aedes aegypti mosquito levels, number of people arriving from Zika-infested areas, and population. The U.S. map below shows the cities Health Grove labeled most at risk.</p></div>
    </div>

    <div class="row">
      <div class="col-xs-12">
        <div id="map-content1"></div>
        <div id="map-content2"></div>
      </div>
    </div>
    <!-- <div class="row">
        <div class="col-xs-12 col-sm-4 background"><h1>Twitter</h1></div>
          <div class="col-xs-12 col-sm-4 background"><h1>News</h1></div>
            <div class="col-xs-12 col-sm-4 background"><h1>Images</h1></div>
    </div> -->

    <div class="row">
      <div class="col-xs-12 col-sm-4" id="twitter-content"><h1 id="frame" style="font-family:'Oswald Regular'; color:#50473e"><span class="head-background1">TWITTER</span></h1><iframe id="frame" src='http://meggiecruser.com/static/twitter' height= '500'></iframe></div>
      <div class="col-xs-12 col-sm-4" id="news-content"><h1 id="frame" style="font-family:'Oswald Regular'; color:#50473e"><span class="head-background2">NEWS</span></h1><iframe id="frame" src='http://meggiecruser.com/static/news' height= '500'></iframe></div>
      <div class="col-xs-12 col-sm-4" id="flickr-content"><h1 id="frame"style="font-family:'Oswald Regular'; color:#50473e"><span class="head-background3">IMAGES</span></h1><iframe id="frame" src='http://meggiecruser.com/static/flickr' height= '500'></iframe></div>

    </div>
  </br>



<script>window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')</script>
<script src="js/bootstrap.min.js"></script>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

    <!-- Include all compiled plugins (below), or include individual files as needed -->

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCEfqCYSoZ03Vslf0VXWs77KiPJO5mvfWE&callback=initMap1"async defer></script>
    <script>


//to change the color of the maps: https://developers.google.com/maps/tutorials/customizing/styling-the-base-map#try_it_out
    function initMap1() {
      $("#map-content1").show();
      $("#map-content2").hide();


      var map;
      var centerofUS = {lat: 39.809860, lng: -98.555183};
        map = new google.maps.Map(document.getElementById('map-content1'), {
        center:centerofUS,
        //mapTypeId: google.maps.MapTypeId.TERRAIN,
        scrollwheel: false,
        zoom: 4


      });


      var infowindow = new google.maps.InfoWindow();

          var marker, i;

var latLongs =[{lat: 31.997347, lng: -102.077911}, {lat: 32.516261, lng: -114.521811}, {lat: 27.506748, lng: -99.502914}, {lat: 31.772543, lng: -106.460953},{lat: 35.376175, lng: -119.022102},
  {lat:35.113281, lng: -106.621216}, {lat:32.253460, lng: -110.911789}, {lat:40.758701, lng:-111.876183}, {lat:36.746841, lng:-119.772591}, {lat:36.114647, lng:-115.172813}, {lat:38.575764, lng:-121.478851},
{lat:29.424122, lng:-98.493629}, {lat:39.742043, lng:-104.991531}, {lat:32.918476, lng:-117.138237}, {lat:33.449184, lng:-112.077019}, {lat:32.161743	, lng:-86.113594}, {lat:34.738228	, lng:-86.601791},
{lat:32.523659	, lng:-93.763504}, {lat:36.071561	, lng:-94.16654}, {lat:32.298756	, lng:-90.184807}, {lat:33.420696, lng:-82.152374}, {lat:34.746483, lng:-92.289597}, {lat:34.0007, lng:-81.0348},
{lat:33.543682, lng:-86.779633},{lat:35.787743, lng:-78.644257},{lat:37.646152, lng:-77.511429},{lat:38.328732, lng:-85.764771},{lat:35.481918, lng:-97.508469},{lat:35.040031, lng:-89.981873},
{lat:36.174465, lng:-86.767960}, {lat:38.931774, lng:-94.579025}, {lat:38.580917, lng:-90.244598},{lat:32.897480, lng:-97.040443}, {lat:35.227085, lng:-80.843124},{lat:38.889931, lng:-77.009003},
{lat:40.071899, lng:-75.205963},{lat:34.052235, lng:-118.243683},{lat:32.076176, lng:-81.088371}, {lat:30.4383, lng:-84.2807}, {lat:30.695366, lng:-88.039894}, {lat:32.784618, lng:-79.940918},
{lat:29.951065, lng:-90.071533}, {lat:33.753746, lng:-84.386330},{lat:29.702902, lng:-95.524986},{lat:30.358435, lng:-81.606468},{lat:40.792240, lng:-73.138260},{lat:25.901747, lng:-97.497482},
{lat:27.964157, lng:-82.452606},{lat:28.538336, lng:-81.379234},{lat:25.717396, lng:-80.278130}]
var titles = ["Midland,TX", "Yuma, AZ", "Laredo, TX", "El Paso, TX", "Bakersfield, CA", "Albuquerque, NM", "Tucson, AZ", "Salt Lake City, UT", "Fresno, CA", "Las Vegas, NV", "Sacramento, CA", "San Antonio, TX", "Denver, CO", "San Diego, CA",
"Phoenix, AZ", "Montgomery, AL", "Huntsville, AL", "Shreveport, LA","Fayetteville, AR", "Jackson, MS", "Augusta,GA", "Little Rock,AR", "Columbia, SC", "Birmingham, AL", "Raleigh,NC", "Richmond,VA",
"Louisville, KY","Oklahoma City, OK", "Memphis,TN", "Nashville, TN", "Kansas City, MO", "St Louis, MO", "Dallas, TX", "Charlotte, NC", "Washington, D.C.",
"Philadelphia, PA", "Los Angeles, CA", "Savannah, GA", "Tallahassee, FL", "Mobile, AL", "Charleston, SC", "New Orleans, LA", "Atlanta, GA","Houston,TX", "Jacksonville,FL","New York, New York", "Brownsville, TX",
 "Tampa, FL", "Orlando, FL", "Miami, FL"]


for (i = 0; i < latLongs.length; i++) {


  // var pinColor = "409144";
  // var pinImage = new google.maps.MarkerImage("http://chart.apis.google.com/chart?chst=d_map_pin_letter&chld=%E2%80%A2|" + pinColor,
  //     new google.maps.Size(21, 34),
  //     new google.maps.Point(0,0),
  //     new google.maps.Point(10, 34));

    marker = new google.maps.Marker({
      position: new google.maps.LatLng(latLongs[i]),
      map: map,

      // icon: pinImage

    });




    google.maps.event.addListener(marker, 'click', (function(marker, i) {
      return function() {
        infowindow.setContent(titles[i]);
        infowindow.open(map, marker);
      }
    })(marker, i));
  }
  }

// function initMap1(){
//
//   $("#map-content1").show();
//     $("#map-content2").hide();
//   google.charts.load('current', {'packages':['geochart']});
//   google.charts.setOnLoadCallback(drawRegionsMap);
//
//   function drawRegionsMap() {
//
//     var data = google.visualization.arrayToDataTable([
//       ['State', 'Cases'],
//       ['Alabama', 2],
//       ['Arizona', 1],
//       ['Arkansas', 2],
//       ['California', 29],
//       ['Colorado', 2],
//       ['Connecticut', 1],
//       ['Delaware', 3],
//       ['District of Columbia', 3],
//       ['Florida', 84],
//       ['Georgia', 13],
//       ['Hawaii', 7],
//       ['Illinois', 12],
//       ['Indiana', 6],
//       ['Iowa', 4],
//       ['Kansas', 1],
//       ['Kentucky', 3],
//       ['Louisiana', 4],
//       ['Maine', 2],
//       ['Maryland', 8],
//       ['Massachusetts', 7],
//       ['Michigan', 3],
//       ['Minnesota', 13],
//       ['Mississippi', 3],
//       ['Missouri', 3],
//       ['Montana', 1],
//       ['Nebraska', 2],
//       ['Nevada', 2],
//       ['New Hampshire', 2],
//       ['New Jersey', 8],
//       ['New Mexico', 1],
//       ['New York', 60],
//       ['North Carolina', 10],
//       ['Ohio', 10],
//       ['Oklahoma', 4],
//       ['Oregon', 6],
//       ['Pennsylvania', 15],
//       ['Tennessee', 2],
//       ['Texas', 30],
//       ['Utah', 2],
//       ['Virginia', 10],
//       ['Washington', 2],
//       ['West Virginia', 5]
//
//     ]);
//
//     var options = {
//       region: 'US',
//       colorAxis: {colors: ['#C5E3BF', '#409144']},
//       backgroundColor: '#50473e',
//       resolution: 'provinces'
//
//     };
//     var chart = new google.visualization.GeoChart(document.getElementById('map-content1'));
//
//     chart.draw(data, options);
//   }
// }


function initMap2() {
console.log("function initMap2 called");
  $("#map-content1").hide();
  $("#map-content2").show();





  var map;
  // var styles = [
  //   {
  //     featureType: "administrative.country",
  //     elementType: "geometry.fill",
  //     stylers: [
  //       { color: '#409144' }
  //
  //     ]
  //   }
  // ];


  var centerofUS = {lat:1.00000, lng:-110.5000}; //center around quito: lat: -0.180653, lng:-78.467834}, zoom 3
    map = new google.maps.Map(document.getElementById("map-content2"), {
    center:centerofUS,
    scrollwheel: false,
    //mapTypeId: google.maps.MapTypeId.SATELLITE,
    zoom: 3





  });



  var infowindow = new google.maps.InfoWindow();

      var marker, i;

  var latLongs =[{lat:12.510052, lng: -70.009354}, {lat:13.193887, lng: -59.543198}, {lat:16.513889, lng: -88.366669}, {lat:-20.932983, lng: -66.219704}, {lat:12.2019, lng: -68.2624},
  {lat:-22.121265, lng:-51.383400},{lat:4.624335, lng:-74.063644}, {lat:18.380102, lng:-65.961975},{lat:9.665231, lng:-82.782066},{lat:21.388828, lng:-77.915146},{lat:12.169570, lng:-68.990021},
{lat:15.25, lng:-61.20},{lat:19.780769, lng:-70.687111},{lat:-0.208946, lng:-78.507751},{lat:13.905190, lng:-89.500206},{lat:3.9339, lng:-53.1258},{lat:16.2650, lng:-61.5510},
{lat:14.628434, lng:-90.522713},{lat:6.559456, lng:-58.333191},{lat:19.934889, lng:-72.830872},
{lat:13.536907, lng:-87.485161},{lat:18.405682, lng:-77.096733},{lat:14.469400, lng:-60.865799},{lat:19.432608, lng:-99.133209},{lat:12.136389, lng:-86.251389},{lat:8.983333, lng:-79.516670},
{lat:-25.513475, lng:-54.615440},{lat:13.909444, lng:-60.978893},{lat:18.073099, lng:-63.082199},{lat:13.012296, lng:-61.227730},{lat:5.839398, lng:-55.199089},{lat:10.536421, lng:-61.311951},
{lat:18.3358, lng:-64.8963},{lat:10.500000, lng:-66.916664},{lat:-14.2710, lng:-170.1322},{lat:-17.713371, lng:178.065033},{lat:5.3096, lng:162.9815},{lat:7.1315, lng:171.1845},
{lat:-20.9043, lng:165.6180},{lat:-13.7590, lng:-172.1046},{lat:-21.178986, lng:-175.198242},{lat:16.5388, lng:-23.0418}]
  var titles = ["Aruba","Barbados", "Belize", "Bolivia", "Bonaire", "Brazil", "Colombia", "Puerto Rico","Costa Rica","Cuba","Curacao", "Dominica", "Dominican Republic","Ecuador",
 "El Salvador", "French Guiana", "Guadeloupe", "Guatemala","Guyana", "Haiti", "Honduras", "Jamaiaca","Martinique","Mexico", "Nicaragua", "Panama",
"Paraguay", "Saint Lucia", "Saint Martin", "Saint Vincent and the Grenadines", "Suriname", "Trinidad and Tobago", "U.S. Virgin Islands","Venezuela", "American Samoa",
"Fiji", "Kosrae, Federated States of Micronesia", "Marshall Islands", "New Caledonia","Samoa", "Tonga", "Cape Verde"]


  for (i = 0; i < latLongs.length; i++) {

  marker = new google.maps.Marker({
  position: new google.maps.LatLng(latLongs[i]),
  map: map,

  });

  google.maps.event.addListener(marker, 'click', (function(marker, i) {
  return function() {
    infowindow.setContent(titles[i]);
    infowindow.open(map, marker);
  }
  })(marker, i));
  }
}

function switchText1(){
  document.getElementById("map-text").innerHTML= "According to the CDC, there are currently no 'locally acquired' cases of Zika in the U.S., but there are still 388 travel-related Zika cases in cities throughout the United States. Medical data company Health Grove listed the U.S. cities most at risk for Zika, based on recent Dengue and Chikungunya cases, Aedes aegypti mosquito levels, number of people arriving from Zika-infested areas, and population. The U.S. map below shows the cities Health Grove labeled most at risk.";
}
function switchText2(){
document.getElementById("map-text").innerHTML= "The Zika virus exists locally in many Central and South American countries, as well as in Mexico and many islands of the Pacific Ocean. The map below pinpoints the countries where Zika can be contracted locally.";
}

document.getElementById("us-button").onclick = function() {initMap1(); switchText1()};

document.getElementById("world-button").onclick = function() {initMap2(); switchText2()};

</script>
  </body>
</html>
